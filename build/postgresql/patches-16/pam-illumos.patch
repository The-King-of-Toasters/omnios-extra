see: https://www.illumos.org/issues/15657
struct pam_message in struct pam_conv is not const in illumos before r151051

diff -wpruN --no-dereference '--exclude=*.orig' a~/src/include/port/solaris.h a/src/include/port/solaris.h
--- a~/src/include/port/solaris.h	1970-01-01 00:00:00
+++ a/src/include/port/solaris.h	1970-01-01 00:00:00
@@ -32,4 +32,6 @@
  * which causes OpenIndiana to declare pam_conv per the Solaris tradition,
  * and also use that symbol to control omitting the "const" in our own code.
  */
+#if OOCEVER < 151051
 #define _PAM_LEGACY_NONCONST 1
+#endif
